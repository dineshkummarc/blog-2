<!DOCTYPE html>
<html>
<head>
<title>JS Blog</title>
<link rel="stylesheet" type="text/css" href="/style.css"/>
<script type="text/javascript" src="/js/showdown.js"></script>
<script type="text/javascript" src="/js/markdown.js"></script>
</head>
<body>
<h1>JSBlog - written in JavaScript on both client and server</h1>
<div class="right">
<a href="/">Home</a>
</div>
<div class="clear"></div>

<h2>New Post</h2>
<form action="/post" method="post">
<label for="title">Title:</label>
<input class="text" type="text" name="title" id="title" value=""/>
<label for="title">Message:</label>
<textarea class="text" name="message" id="message" rows="16" cols="32">
</textarea>
<div class="clear"></div>
<input type="submit" value="Submit"/>
<label for="preview">Preview:</label>
<div id="preview">
</div>
</form>
<script type="text/javascript">
(function () {
	var input, preview;
	input = document.getElementById('message');
	preview = document.getElementById('preview');

	input.onkeydown = input.onkeyup = function () {
		preview.innerHTML = markdownToHtml(input.value);
	};
}());
</script>
</body>
</html>
